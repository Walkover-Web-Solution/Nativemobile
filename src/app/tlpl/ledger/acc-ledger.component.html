<mat-card>
    <mat-card-content>

        <div>
            <my-date-range-picker name="mydaterange" [options]="myDateRangePickerOptions"
                                  (dateRangeChanged)="onDateRangeChanged($event)"
                                  [(ngModel)]="dateModel" required></my-date-range-picker>
        </div>
    </mat-card-content>

</mat-card>

<mat-card>
    <mat-card-content>

        <div>
            <div>
                <span>opening</span>
                <span class="pull-right">closing</span>
            </div>
            <div class="row">
                <div class="col-3">
                    <span>
                        <span class="font-bold">{{ (transactionData$ | async)?.forwardedBalance.amount }}</span>
                        <span>{{ (transactionData$ | async)?.forwardedBalance.type === 'DEBIT' ? 'DR' : 'CR'}}.</span>
                    </span>
                </div>
                <div class="col-3 flex-center">

                    <small>
                        <i class="material-icons">
                            remove
                        </i>
                        10,340 dr.
                        <i class="material-icons">
                            arrow_right_alt
                        </i>
                    </small>
                </div>
                <div class="col-3">
                    <span class="pull-right">
                        <span>{{ (transactionData$ | async)?.closingBalance.type === 'DEBIT' ? 'DR' : 'CR'}}.</span>
                        <span class="font-bold">{{ (transactionData$ | async)?.closingBalance.amount }}</span>
                    </span>
                </div>
            </div>
        </div>
        <div style="margin-top: 20px;">

            <table style="width:100%">
                <tr>
                    <th [ngClass]="{'active': activeTab === 'debit'}" (click)="toggleActiveTab()">Debit</th>
                    <th (click)="toggleActiveTab()" [ngClass]="{'active': activeTab === 'credit'}">
                        <span class="pull-right">Credit</span>
                    </th>
                </tr>

            </table>
            <table style="width:100%;border-top: none;" *ngIf="activeTab === 'debit'">
                <tr>
                    <td style="border-top: none;">
                        <div>
                            <span _ngcontent-c5="">Cash is
                                <span _ngcontent-c5="" class="bold">receiving</span>
                            </span>
                        </div>
                        <div>
                            <span class="b-f">B/F</span>
                        </div>


                    </td>
                </tr>
            </table>

            <table style="width:100%;border-top: none;" *ngIf="activeTab === 'credit'">
                <tr>
                    <td style="border-top: none;">
                        <div>
                            <span _ngcontent-c5="" class="pull-right">Cash is
                                <span _ngcontent-c5="" class="bold">giving</span>
                            </span>
                        </div>
                    </td>
                </tr>
            </table>

            <table class="table-text">
                <ng-container *ngIf="activeTab === 'debit'">
                    <tr *ngFor="let txn of (transactionData$ | async)?.debitTransactions">
                        <td class="w-20pr">{{ txn.entryDate }}</td>
                        <td>{{ txn.particular.name }}</td>
                        <td class="w-20pr">
                            {{ txn.amount | number: '1.0-2' }}
                            <span *ngIf="txn.attachedFileUniqueName.length > 0"
                                  container="body"
                                  matTooltip="Download file : {{txn.attachedFileName}}" [matTooltipPosition]="'above'">
                  <i class="glyphicon glyphicon-download pull-left" style="font-size:15px;"></i>
                </span>
                            <span class="download-invoice-ledger" *ngIf="txn.voucherGenerated"
                                  container="body"
                                  matTooltip="Download Invoice : {{txn.voucherNumber}}" [matTooltipPosition]="'above'">
                  <i class="glyphicon glyphicon-download pull-left" style="font-size:15px;"></i>
                </span>
                        </td>
                    </tr>
                </ng-container>

                <ng-container *ngIf="activeTab === 'credit'">
                    <tr *ngFor="let txn of (transactionData$ | async)?.creditTransactions">
                        <td class="w-20pr">{{ txn.entryDate }}</td>
                        <td>{{ txn.particular.name }}</td>
                        <td class="w-20pr">{{ txn.amount | number: '1.0-2' }}</td>
                    </tr>
                </ng-container>
            </table>
            <!-- last-2 row -->
            <table style="width:100%;border-top: none;" *ngIf="activeTab === 'debit'">
                <tr>
                    <td style="border-top: none;">
                    </td>
                </tr>
            </table>

            <table style="width:100%;border-top: none;" *ngIf="activeTab === 'credit'">
                <tr>



                    <td style="border-top: none;">

                        <span class="pull-right">60,340</span>
                        <span class="c-f"> C / F </span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class="pull-right">
                            <u>60,340</u>
                        </span>
                    </td>
                </tr>
            </table>
        </div>
    </mat-card-content>
</mat-card>
