<ActionBar class="action-bar" width="100%">
    <GridLayout columns="auto,*,auto" rows="*" width="100%">
        <Button row="0" col="0" class="button" height="50" width="50" ios:visibility="collapsed" (tap)="goBack()"
                textAlignment="center"
                text="&#xf060;" fontFamily="FontAwesome">
        </Button>
        <Label row="0" col="1" class="action-bar-title" fontWeight="400" text="Trial Balance"
               horizontalAlignment="left"></Label>
        <!-- <Label text="&#xf1de;" fontSize="20"  class="" fontFamily="FontAwesome"></Label> -->
    </GridLayout>
</ActionBar>

<ScrollView>
    <StackLayout margin="5">
        <GridLayout rows="auto" columns="*">
            <SearchBar row="0" hint="Search" #searchControl></SearchBar>
        </GridLayout>

        <CardView class="gen-card-style" elevation="3" radius="1">

            <StackLayout orientation="horizontal" padding="15" color="black">
                <Label text="Home /" (tap)="resetNavigation()"></Label>
                <StackLayout *ngFor="let brd of breadCrumb;let l = last" style="margin: 0px 5px">
                    <Label *ngIf="!l" (tap)="navigateTo(brd)" text="{{ brd }} /"></Label>
                    <Label *ngIf="l" text="{{ brd }}"></Label>
                </StackLayout>
            </StackLayout>
        </CardView>

        <CardView class="gen-card-style" elevation="3" radius="1">
            <FlexboxLayout flexDirection="row" class="text-box">
                <Label text="Total"></Label>
                <Label text="254,560"></Label>
            </FlexboxLayout>
        </CardView>

        <CardView class="gen-card-style" elevation="3" radius="1">

            <FlexboxLayout flexDirection="column">

                <ng-container *ngIf="activeAcc === '';">

                    <FlexboxLayout flexDirection="column" class="list-group"
                                   *ngIf="!isSearchEnabled; else searchContainer">
                        <FlexboxLayout flexDirection="row" justifyContent="space-between" class="bold" padding="5 10">
                            <Label text="Particular"></Label> <Label text="Closing Balance"></Label>
                        </FlexboxLayout>

                        <StackLayout orientation="vertical" *ngFor="let grp of (filterdData)">

                            <StackLayout borderBottomWidth="1" borderBottomColor="#ebebeb" class="list-group-item"
                                         (tap)="filterData(grp)">
                                <Label text="{{ grp.groupName }}"></Label>
                                <GridLayout columns="*,*" rows="auto">
                                    <StackLayout row="0" col="0">
                                        <Label text="Label 1"></Label>
                                    </StackLayout>
                                    <StackLayout row="0" col="1">
                                        <Label class="pull-right" text="Label 1"></Label>
                                    </StackLayout>
                                </GridLayout>
                            </StackLayout>

                            <StackLayout orientation="vertical" *ngFor="let acc of grp.accounts"
                                         (tap)="goToLedger(acc)">
                                <StackLayout class="list-group-item" borderBottomWidth="1" borderBottomColor="#ebebeb">
                                    <Label text="{{ acc.name }}" textWrap="true"></Label>
                                    <GridLayout columns="*,*" rows="auto">
                                        <StackLayout row="0" col="0">
                                            <Label text="Label 1"></Label>
                                        </StackLayout>
                                        <StackLayout row="0" col="1">
                                            <Label class="pull-right" text="Label 1"></Label>
                                        </StackLayout>
                                    </GridLayout>
                                </StackLayout>
                            </StackLayout>
                        </StackLayout>
                    </FlexboxLayout>

                    <ng-template #searchContainer>
                        <FlexboxLayout flexDirection="column" class="list-group">
                            <StackLayout orientation="vertical" *ngFor="let item of searchedFlattenGrpDetails"
                                         (tap)="searchResultClicked(item)"
                                         class="list-group-item">
                                <Label text="{{ item.isGroup ? item.groupName : item.name }}"></Label>
                            </StackLayout>
                        </FlexboxLayout>
                    </ng-template>

                </ng-container>

                <ng-container *ngIf="activeAcc !== ''">
                    <FlexboxLayout flexDirection="column">
                        <ns-acc-ledger [accUniqueName]="activeAcc"></ns-acc-ledger>
                    </FlexboxLayout>
                </ng-container>

            </FlexboxLayout>

        </CardView>
    </StackLayout>
</ScrollView>
