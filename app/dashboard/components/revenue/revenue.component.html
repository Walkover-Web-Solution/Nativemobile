<StackLayout>

  <FlexboxLayout justifyContent="space-between" margin="10">
    <ns-pie-chart [maxPoint]="activePieChartAmount" [chartColor]="'#c1c1c1'" [indicatorColor]="'#3b8d8a'" height="200"></ns-pie-chart>
    <ns-pie-chart [maxPoint]="lastPieChartAmount" [chartColor]="'#c1c1c1'" [indicatorColor]="'#3b8d8a'" height="200"></ns-pie-chart>
  </FlexboxLayout>

  <StackLayout *ngIf="activeYearAccounts.length > 0 || lastYearAccounts.length > 0">

    <RadCartesianChart height="200" tkExampleTitle tkToggleNavButton
      (pointSelected)="calculatePieChartPer($event)">
      <CategoricalAxis tkCartesianHorizontalAxis labelFitMode="Rotate"></CategoricalAxis>
      <LinearAxis tkCartesianVerticalAxis lineHidden="true" labelFormat="%.0f"></LinearAxis>

      <BarSeries tkCartesianSeries [items]="activeYearAccountsRanks" selectionMode="DataPoint" categoryProperty="name" valueProperty="amount"
        showLabels="true"></BarSeries>
      <BarSeries tkCartesianSeries [items]="lastYearAccountsRanks" selectionMode="DataPoint" categoryProperty="name" valueProperty="amount"
        showLabels="true"></BarSeries>
    </RadCartesianChart>

  </StackLayout>

  <ActivityIndicator *ngIf="requestInFlight" #activityIndicator [busy]="requestInFlight" width="100" height="100" class="activity-indicator"></ActivityIndicator>
  <Label *ngIf="activeYearAccounts.length === 0 && lastYearAccounts.length === 0" text="No Data"></Label>
</StackLayout>
